<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]--> 
<html class="no-js" lang="en"> 
  <head>
    <title>Nginx snippets | 3scale Documentation</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href='//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css'>
    <link rel="stylesheet" type="text/css" href='//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css'>
    <link rel="stylesheet" type="text/css" href='/css/jquery.tocify.css'>
    <link rel="stylesheet" type="text/css" href='/css/jquery.ui.all.css'>
    <link rel="stylesheet" type="text/css" href='/css/prototype.css'>
    <link rel="stylesheet" type="text/css" href='/css/syntax.css'>
  

    <script type="text/javascript" src="/javascript/modernizr.js"></script>
    <!--<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
    
  </head>

<body>
  <!-- body content here -->
  <div class="container-fluid">
    <section class="row">
      <header class="fixed-header col-md-12">
        <div class="row">
          <div class="col-md-2 col-xs-4 logo">
            <a href="http://support.3scale.net" style="width: 155px; position: relative;"><img style="
    margin-top: 1px;
" src="https://support.3scale.net/images/3scale-logo-transparent.png"><span style="color: white; position: absolute; font-variant: small-caps; font-family: Verdana; right: 0px; bottom: -24px;">Docs</span></a>
          </div>
          <div class="col-md-6">
            <div class="row" id="search">
              <form action="/search" method="get" class="col-md-10">
                <input class="text" name="q" type="text" id="search-query" title="Search the site" placeholder="Search" autocomplete="off" >
              </form>
              <div class="col-md-2 head-butt"><a class="btn btn-default" href="#"><i class="fa fa-code"></i>CodeHub</a></div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="row">               
              <div class="col-md-3 head-butt"><a href="/" class="btn btn-default"><i class="fa fa-book"></i>Docs</a></div>
              <div class="col-md-3 head-butt"><a href="/help" class="btn btn-default"><i class="fa fa-question-circle"></i>Help</a></div>
              <div class="col-md-3 head-butt"><a href="/forum" class="btn btn-default"><i class="fa fa-comments"></i>Forum</a></div>
              <div class="col-md-3 head-butt"><a href="http://www.3scale.net/blog" class="btn btn-default"><i class="fa fa-rss"></i>Blog</a></div>
            </div>
          </div>
        </div>
      </header>
    </section>
    <div class="row document-content">
      <div class="fill col-md-2 col-sm-3 col-xs-4">
          <div class="tocify1">
  <!-- OVERVIEW -->
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/nginx/">nginx</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/lua/">lua</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/authentication/">authentication</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/reporting/">reporting</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/varnish/">varnish</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/html/">html</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/liquid/">liquid</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/js/">js</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/developerportal/">developerportal</a></li>
        
      </ul>
    
      <ul class="tocheader nav nav-list">
        
          <li class="multi"><a href="/caching/">caching</a></li>
        
      </ul>
    
  <!-- CASE STUDIES -->
  <!--<ul class="tocheader nav nav-list">
    <li class=""><a>Case Studies</a></li>
  </ul>-->

  <!-- CODEHUB -->
  <!--<ul class="tocheader nav nav-list">
    <li class=""><a>Code Hub</a></li>
  </ul>-->
</div>
      </div>
      <div class="col-md-10 col-sm-9 col-xs-8">
        <div class="row">
          <div class="col-lg-10 col-md-11 col-sm-12">
            
            <section id="search-results" style="display: none;">
              <h2>Search results</h2>
              <div class="entries">
                
                <script id="search-results-template" type="text/mustache">
                  {{#entries}}
                    <article>
                      <p>
                        {{#date}}<small><time datetime="{{pubdate}}" pubdate>{{displaydate}}</time></small>{{/date}}
                        <a href="{{url}}">{{title}}</a>
                      </p>
                    </article>
                  {{/entries}}
                </script>
                
              </div>
            </section>
            <section id="page-content">        
              <div class="home">

  <h1>Nginx snippets</h1>

  <ul class="posts">
    
      
        
          <li>
            <span class="post-date">Aug 20, 2014</span>
            <a class="post-link" href="/nginx/lua/caching/2014/08/20/UsePrebuiltCache/">Use pre-built cache in case 3scale cannot be reached</a><a class="badge" href="/nginx">nginx</a><a class="badge" href="/lua">lua</a><a class="badge" href="/caching">caching</a>
          </li>
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
    
      
        
      
        
      
    
      
        
          <li>
            <span class="post-date">Aug 19, 2014</span>
            <a class="post-link" href="/nginx/2014/08/19/MakefileForRemoteNginx/">Makefile for working with a remote Nginx</a><a class="badge" href="/nginx">nginx</a>
          </li>
        
      
    
      
        
          <li>
            <span class="post-date">Aug 18, 2014</span>
            <a class="post-link" href="/nginx/2014/08/18/OpenrestyInitDScript/">Openresty init.d script</a><a class="badge" href="/nginx">nginx</a>
          </li>
        
      
    
      
        
          <li>
            <span class="post-date">Aug 14, 2014</span>
            <a class="post-link" href="/nginx/lua/reporting/2014/08/14/Error404andReportIfAppPlanNoMatch/">Error 404 and report if app plan doesn't match</a><a class="badge" href="/nginx">nginx</a><a class="badge" href="/lua">lua</a><a class="badge" href="/reporting">reporting</a>
          </li>
        
      
        
      
        
      
    
      
        
          <li>
            <span class="post-date">Aug 11, 2014</span>
            <a class="post-link" href="/nginx/lua/authentication/2014/08/11/ExtractingBasicAuthtoken/">Basic HTTP Auth with user_key</a><a class="badge" href="/nginx">nginx</a><a class="badge" href="/lua">lua</a><a class="badge" href="/authentication">authentication</a>
          </li>
        
      
        
      
        
      
    
  </ul>

</div>       
            </section>                  
          </div>
        </div>
      </div>
    </div>
  </div>

    <!-- JS and analytics only. -->

    <!--<script src="/javascripts/bootstrap.min.js"></script>-->
    <script src="/javascript/search.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="/javascript/jquery-ui-1.9.1.custom.min.js"></script>
    <!--<script type="text/javascript" src="/javascript/baseline.js"></script>
    <script type="text/javascript" src="/javascript/3scale.js"></script>-->
    <script type="text/javascript" src="/javascript/excanvas.compiled.js"></script>
    
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6/html5shiv.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  
  <script>
      //$("#navigation").tocify({ selectors: "h1.menu,h2.menu", theme: "bootstrap", extendPage: false });
    $(".logo a").css("margin-left", $("#navigation").css("margin-left"));

    // collapsible menu
    $(function() {
      $('a').click(function(e) {
        
            
        $('html, body').animate( { scrollTop: $($.attr(this, 'href')).offset().top+'px' }, 500);
      });
      $('.multi').click(function(e) {
        if ($(this).children('#navigation').length == 0 ) {
          $(this).next('.tocsubheader').slideToggle();
          $(this).find('.fa').toggleClass("fa-chevron-left fa-chevron-down");
        }
        else {
          //$(this).find('#navigation ul ul').slideToggle();
        }
      });

      //Current position highlight
      var aChildren = $(".tocify1 .tocheader #this li").children();
      var aArray = [];
      for (var i=0; i< aChildren.length; i++) {
        var aChild = aChildren[i];
        var ahref = $(aChild).attr('href');
        aArray.push(ahref);
      }

      $(window).scroll(function() {
        var windowPos = $(window).scrollTop();
        var windowHeight = $(window).height();
        var docHeight = $(document).height();

        for (var i=0; i< aArray.length; i++) {
          var theID = aArray[i];
          var divPos = $(theID).offset().top-1;
          var divHeight = $(theID).parent().parent().height();
          if (windowPos >= divPos && windowPos < (divPos + divHeight)) {
            $("a[href='" + theID + "']").parent().addClass('active');
          } else {
            $("a[href='" + theID + "']").parent().removeClass('active');
          }
        }

        if(windowPos + windowHeight == docHeight) {
          if (!$(".tocify1 .tocheader #this li:last-child a").parent().hasClass('active')) {
            var navActiveCurrent = $('.active').child().attr('href');
            $("a[href='" + navActiveCurrent + "']").removeClass('active');
            $(".tocify1 .tocheader #this li:last-child").addClass('active');
          }
        }
      });

    });
    /*$('.document-content img').baseline(30);
    $('#search a').click(function(e) {
      $("#search").submit();
    });*/
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl: '/search.json',             // URL of the `search.json` index data for your site
      results:  '#search-results',          // jQuery selector for the search results container
      entries:  '.entries',                 // jQuery selector for the element to contain the results list, must be a child of the results element above.
      template: '#search-results-template'  // jQuery selector for the Mustache.js template
    });
    $("#search-query").keydown(function(event) {
      if(event.keyCode == 13) {
        event.preventDefault();
        return false;
      }
      $(this).val() ? $("#search-results").hide() : $("#search-results").show();
    });
    $("#search-query").keyup(function() {
      if ($(this).val() ) {
        $("#page-content").css("display", "none");
      } else {
        $("#page-content").css("display", "block");
      }
    });
  });
  </script> 
  <script type="text/javascript">
      $(function() {
        $('.multi > a').each(function() {
          if(window.location.pathname == $(this).attr('href'))
            $(this).parent().addClass('active');
        });
      });
    </script>
  </body>
</html>
